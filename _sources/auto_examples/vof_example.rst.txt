
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/vof_example.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_vof_example.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_vof_example.py:


===============================
Finding only the ARC, pARC, VOF
===============================

pyAFQ generates the pARC and VOF as default bundles.
This example shows how you can choose to track and recognize only
certain bundles that you are interested in.

.. GENERATED FROM PYTHON SOURCE LINES 10-50

.. code-block:: default


    import AFQ.api.bundle_dict as abd
    import AFQ.data.fetch as afd
    from AFQ.api.group import GroupAFQ
    from AFQ.definitions.image import RoiImage
    import AFQ.utils.streamlines as aus

    import os.path as op

    afd.organize_stanford_data(clear_previous_afq=True)

    bundle_names = ["ARC_L", "ARC_R", "pARC_L", "pARC_R", "VOF_L", "VOF_R"]
    bundle_dict = abd.BundleDict(bundle_names)

    # you can change these if you want
    bundle_dict["VOF_R"]["primary_axis_percentage"] = 50
    bundle_dict["VOF_L"]["primary_axis_percentage"] = 50

    myafq = GroupAFQ(
        op.join(afd.afq_home, 'stanford_hardi'),
        bundle_info=bundle_dict,
        preproc_pipeline='vistasoft',
        tracking_params={
            "n_seeds": 50000,
            "random_seeds": True,
            "seed_mask": RoiImage(use_waypoints=True, use_endpoints=True),
        },
        clean_params={"distance_threshold": 3,
                      "length_threshold": 5, "clean_rounds": 20}
    )


    for b_name in bundle_names:
        b_len = len(aus.SegmentedSFT.fromfile(myafq.export("clean_bundles")[
            "01"]).get_bundle(b_name))

        if b_len < 1:
            raise ValueError(f"{b_name} not found")

    myafq.export("all_bundles_figure")["01"][0]


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_auto_examples_vof_example.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example


    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: vof_example.py <vof_example.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: vof_example.ipynb <vof_example.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
